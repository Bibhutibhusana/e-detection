"use strict";(self.webpackChunke_detection=self.webpackChunke_detection||[]).push([[556],{1556:(ge,T,c)=>{c.r(T),c.d(T,{EchallanModule:()=>fe});var p=c(9808),u=c(8555),t=c(5e3);let b=(()=>{class e{ngOnInit(){throw new Error("Method not implemented.")}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-echallan-add"]],decls:0,vars:0,template:function(a,l){},styles:[""]}),e})();var f=c(9793),_=c(3547),s=c(9854),g=c(5653),v=c(2139),d=c(3075),A=c(4494),E=c(426),D=c(8341),N=c(8251),I=c(294),U=c(9457),h=c(1223),y=c(6766),m=c(7021),Y=c(1377),q=c(6288),C=c(1062);const L=["TABLE"];function w(e,n){1&e&&(t.TgZ(0,"div")(1,"h2",16),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Please Select FromDate and ToDate ")))}function M(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Seq.Id. "),t.qZA())}function k(e,n){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const a=n.index;t.xp6(1),t.hij(" ",a+1," ")}}function Q(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1,"VehicleNo. "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.vehicleNo," ")}}function J(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Vt_Class "),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.vtClass," ")}}function P(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Vh_Class. "),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.vhClass," ")}}function O(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Transaction Date "),t.qZA())}function V(e,n){if(1&e&&(t.TgZ(0,"td",45)(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,a.transactionDate,"dd-MM-yyyy"),"")}}function $(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," ChallanNo "),t.qZA())}function j(e,n){if(1&e&&(t.TgZ(0,"td",45)(1,"p",46),t._uU(2),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",a.challanNo,"")}}function R(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," OP_Date "),t.qZA())}function H(e,n){if(1&e&&(t.TgZ(0,"td",45)(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,a.opDate,"dd-MM-yyyy"),"")}}function G(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Challan-Issue-Date "),t.qZA())}function z(e,n){if(1&e&&(t.TgZ(0,"td",45)(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,a.challanIssueDate,"dd-MM-yyyy"),"")}}function X(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Tax "),t.qZA())}function W(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",47),t.qZA())}function K(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",48),t.qZA())}function tt(e,n){if(1&e&&(t.TgZ(0,"td",45),t.YNc(1,W,2,0,"p",11),t.YNc(2,K,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.taxUpto),t.xp6(1),t.Q6J("ngIf",null==a.taxUpto)}}function et(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Fitness "),t.qZA())}function at(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",47),t.qZA())}function nt(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",48),t.qZA())}function lt(e,n){if(1&e&&(t.TgZ(0,"td",45),t.YNc(1,at,2,0,"p",11),t.YNc(2,nt,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.fitUpto),t.xp6(1),t.Q6J("ngIf",null==a.fitUpto)}}function ot(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Insurance "),t.qZA())}function it(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",47),t.qZA())}function st(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",48),t.qZA())}function ct(e,n){if(1&e&&(t.TgZ(0,"td",45),t.YNc(1,it,2,0,"p",11),t.YNc(2,st,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.insUpto),t.xp6(1),t.Q6J("ngIf",null==a.insUpto)}}function dt(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Non-Use "),t.qZA())}function pt(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",47),t.qZA())}function _t(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",49),t.qZA())}function ht(e,n){if(1&e&&(t.TgZ(0,"td",45),t.YNc(1,pt,2,0,"p",11),t.YNc(2,_t,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf","Non-Use"==a.nonUseStat),t.xp6(1),t.Q6J("ngIf",null==a.nonUseStat)}}function mt(e,n){1&e&&(t.TgZ(0,"th",44),t._uU(1," Action "),t.qZA())}function rt(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(a);const o=t.oxw().$implicit,i=t.oxw(2),r=t.MAs(30);return i.selectChallan(o,r)}),t._uU(1," Issue - Challan "),t.qZA()}}function ut(e,n){1&e&&(t.TgZ(0,"button",54),t._uU(1," Challan-Issued "),t.qZA())}function ft(e,n){if(1&e&&(t.TgZ(0,"td",50),t.YNc(1,rt,2,0,"button",51),t.YNc(2,ut,2,0,"button",52),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",null==a.challanNo||""==a.challanNo),t.xp6(1),t.Q6J("ngIf",null!=a.challanNo&&""!=a.challanNo)}}function gt(e,n){1&e&&t._UZ(0,"tr",55)}function Ct(e,n){1&e&&(t.TgZ(0,"tr",56),t._uU(1,' padding: 0; margin: 0; max-height: 10px;">'),t.qZA())}function Zt(e,n){if(1&e&&(t.TgZ(0,"tr",57)(1,"td",58),t._uU(2),t.qZA()()),2&e){t.oxw();const a=t.MAs(11);t.xp6(2),t.hij('No data matching the filter "',a.value,'"')}}function xt(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"div",17)(1,"h3"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div",3)(6,"div",18)(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Enter Vehicle No."),t.qZA(),t.TgZ(10,"input",19,20),t.NdJ("keyup",function(o){return t.CHM(a),t.oxw().doFilter(o)}),t.qZA()()(),t.TgZ(12,"div",21)(13,"button",22),t.NdJ("click",function(){return t.CHM(a),t.oxw().exportToPDF()}),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"table",23,24),t.ynx(18,25),t.YNc(19,M,2,0,"th",26),t.YNc(20,k,2,1,"td",27),t.BQk(),t.ynx(21,28),t.YNc(22,Q,2,0,"th",26),t.YNc(23,S,2,1,"td",27),t.BQk(),t.ynx(24,29),t.YNc(25,J,2,0,"th",26),t.YNc(26,B,2,1,"td",27),t.BQk(),t.ynx(27,30),t.YNc(28,P,2,0,"th",26),t.YNc(29,F,2,1,"td",27),t.BQk(),t.ynx(30,31),t.YNc(31,O,2,0,"th",26),t.YNc(32,V,4,4,"td",27),t.BQk(),t.ynx(33,32),t.YNc(34,$,2,0,"th",26),t.YNc(35,j,3,1,"td",27),t.BQk(),t.ynx(36,33),t.YNc(37,R,2,0,"th",26),t.YNc(38,H,4,4,"td",27),t.BQk(),t.ynx(39,34),t.YNc(40,G,2,0,"th",26),t.YNc(41,z,4,4,"td",27),t.BQk(),t.ynx(42,35),t.YNc(43,X,2,0,"th",26),t.YNc(44,tt,3,2,"td",27),t.BQk(),t.ynx(45,36),t.YNc(46,et,2,0,"th",26),t.YNc(47,lt,3,2,"td",27),t.BQk(),t.ynx(48,37),t.YNc(49,ot,2,0,"th",26),t.YNc(50,ct,3,2,"td",27),t.BQk(),t.ynx(51,38),t.YNc(52,dt,2,0,"th",26),t.YNc(53,ht,3,2,"td",27),t.BQk(),t.ynx(54,39),t.YNc(55,mt,2,0,"th",26),t.YNc(56,ft,3,2,"td",40),t.BQk(),t.YNc(57,gt,1,0,"tr",41),t.YNc(58,Ct,2,0,"tr",42),t.YNc(59,Zt,3,1,"tr",43),t.qZA()()}if(2&e){const a=t.oxw();t.xp6(2),t.AsE(" Issued Challan List from : ",t.xi3(3,6,a.fromDate,"mediumDate")," to ",t.xi3(4,9,a.toDate,"mediumDate"),""),t.xp6(12),t.Oqu(t.lcZ(15,12,"Export To PDF")),t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(41),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}function Tt(e,n){1&e&&(t.TgZ(0,"span",16),t._uU(1,"Invalid Challan Number!"),t.qZA())}function vt(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"div",59)(1,"h3",60),t._uU(2,"Issue Challan"),t.qZA()(),t.TgZ(3,"div",61)(4,"mat-form-field",5)(5,"mat-label"),t._uU(6," Enter Challan No."),t.qZA(),t._UZ(7,"input",62),t.qZA(),t.YNc(8,Tt,2,0,"span",63),t.TgZ(9,"mat-form-field",64)(10,"mat-label"),t._uU(11,"Choose Date"),t.qZA(),t.TgZ(12,"input",65,7),t.NdJ("ngModelChange",function(o){return t.CHM(a),t.oxw().chooseChallanIssueDate(o)})("ngModelChange",function(o){return t.CHM(a),t.oxw().challanIssueDate=o}),t.qZA(),t._UZ(14,"mat-datepicker-toggle",8)(15,"mat-datepicker",null,66),t.qZA()(),t.TgZ(17,"div",67)(18,"button",68),t.NdJ("click",function(){t.CHM(a);const o=t.oxw();return o.closeDialog(o.echallan)}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",69),t.NdJ("click",function(){return t.CHM(a),t.oxw().issueChallan()}),t._uU(21,"Save"),t.qZA()()}if(2&e){const a=t.MAs(16),l=t.oxw();t.xp6(7),t.Q6J("formControl",l.challanNo)("minlength",14)("maxlength",17),t.xp6(1),t.Q6J("ngIf",l.challanNo.invalid&&l.challanNo.touched),t.xp6(4),t.Q6J("matDatepicker",a)("ngModel",l.challanIssueDate),t.xp6(2),t.Q6J("for",a),t.xp6(6),t.Q6J("disabled",!l.challanNo.valid)}}const At=function(e){return{display:e}},Et=function(){return[10,25,100]},Nt=["TABLE"];function It(e,n){1&e&&(t.TgZ(0,"div")(1,"h2",15),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Please Select FromDate and ToDate ")))}function Ut(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Seq.Id. "),t.qZA())}function yt(e,n){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const a=n.index;t.xp6(1),t.hij(" ",a+1," ")}}function Yt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1,"VehicleNo. "),t.qZA())}function qt(e,n){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.vehicleNo," ")}}function bt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Vt_Class "),t.qZA())}function Lt(e,n){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.vtClass," ")}}function wt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Vh_Class. "),t.qZA())}function Mt(e,n){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.vhClass," ")}}function kt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Transaction Date "),t.qZA())}function Qt(e,n){if(1&e&&(t.TgZ(0,"td",42)(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,a.transactionDate,"dd-MM-yyyy"),"")}}function St(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Challan-Issue-Date "),t.qZA())}function Jt(e,n){if(1&e&&(t.TgZ(0,"td",42)(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,a.challanIssueDate,"dd-MM-yyyy"),"")}}function Bt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," ChallanNo "),t.qZA())}function Pt(e,n){if(1&e&&(t.TgZ(0,"td",42)(1,"p",43),t._uU(2),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",a.challanNo,"")}}function Ft(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," OP_Date "),t.qZA())}function Ot(e,n){if(1&e&&(t.TgZ(0,"td",42)(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const a=n.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,a.opDate,"dd-MM-yyyy"),"")}}function Vt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Tax "),t.qZA())}function $t(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",44),t.qZA())}function jt(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",45),t.qZA())}function Rt(e,n){if(1&e&&(t.TgZ(0,"td",42),t.YNc(1,$t,2,0,"p",11),t.YNc(2,jt,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.taxUpto),t.xp6(1),t.Q6J("ngIf",null==a.taxUpto)}}function Ht(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Fitness "),t.qZA())}function Gt(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",44),t.qZA())}function zt(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",45),t.qZA())}function Xt(e,n){if(1&e&&(t.TgZ(0,"td",42),t.YNc(1,Gt,2,0,"p",11),t.YNc(2,zt,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.fitUpto),t.xp6(1),t.Q6J("ngIf",null==a.fitUpto)}}function Wt(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Insurance "),t.qZA())}function Kt(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",44),t.qZA())}function te(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",45),t.qZA())}function ee(e,n){if(1&e&&(t.TgZ(0,"td",42),t.YNc(1,Kt,2,0,"p",11),t.YNc(2,te,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.insUpto),t.xp6(1),t.Q6J("ngIf",null==a.insUpto)}}function ae(e,n){1&e&&(t.TgZ(0,"th",41),t._uU(1," Non-Use "),t.qZA())}function ne(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",44),t.qZA())}function le(e,n){1&e&&(t.TgZ(0,"p"),t._UZ(1,"img",46),t.qZA())}function oe(e,n){if(1&e&&(t.TgZ(0,"td",42),t.YNc(1,ne,2,0,"p",11),t.YNc(2,le,2,0,"p",11),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf","Non-Use"==a.nonUseStat),t.xp6(1),t.Q6J("ngIf",null==a.nonUseStat)}}function ie(e,n){1&e&&t._UZ(0,"tr",47)}function se(e,n){1&e&&(t.TgZ(0,"tr",48),t._uU(1,' padding: 0; margin: 0; max-height: 10px;">'),t.qZA())}function ce(e,n){if(1&e&&(t.TgZ(0,"tr",49)(1,"td",50),t._uU(2),t.qZA()()),2&e){t.oxw();const a=t.MAs(11);t.xp6(2),t.hij('No data matching the filter "',a.value,'"')}}function de(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"div",16)(1,"h3"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div",3)(6,"div",17)(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Enter Vehicle No."),t.qZA(),t.TgZ(10,"input",18,19),t.NdJ("keyup",function(o){return t.CHM(a),t.oxw().doFilter(o)}),t.qZA()()(),t.TgZ(12,"div",20)(13,"button",21),t.NdJ("click",function(){return t.CHM(a),t.oxw().exportArrayToPDF()}),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"table",22,23),t.ynx(18,24),t.YNc(19,Ut,2,0,"th",25),t.YNc(20,yt,2,1,"td",26),t.BQk(),t.ynx(21,27),t.YNc(22,Yt,2,0,"th",25),t.YNc(23,qt,2,1,"td",26),t.BQk(),t.ynx(24,28),t.YNc(25,bt,2,0,"th",25),t.YNc(26,Lt,2,1,"td",26),t.BQk(),t.ynx(27,29),t.YNc(28,wt,2,0,"th",25),t.YNc(29,Mt,2,1,"td",26),t.BQk(),t.ynx(30,30),t.YNc(31,kt,2,0,"th",25),t.YNc(32,Qt,4,4,"td",26),t.BQk(),t.ynx(33,31),t.YNc(34,St,2,0,"th",25),t.YNc(35,Jt,4,4,"td",26),t.BQk(),t.ynx(36,32),t.YNc(37,Bt,2,0,"th",25),t.YNc(38,Pt,3,1,"td",26),t.BQk(),t.ynx(39,33),t.YNc(40,Ft,2,0,"th",25),t.YNc(41,Ot,4,4,"td",26),t.BQk(),t.ynx(42,34),t.YNc(43,Vt,2,0,"th",25),t.YNc(44,Rt,3,2,"td",26),t.BQk(),t.ynx(45,35),t.YNc(46,Ht,2,0,"th",25),t.YNc(47,Xt,3,2,"td",26),t.BQk(),t.ynx(48,36),t.YNc(49,Wt,2,0,"th",25),t.YNc(50,ee,3,2,"td",26),t.BQk(),t.ynx(51,37),t.YNc(52,ae,2,0,"th",25),t.YNc(53,oe,3,2,"td",26),t.BQk(),t.YNc(54,ie,1,0,"tr",38),t.YNc(55,se,2,0,"tr",39),t.YNc(56,ce,3,1,"tr",40),t.qZA()()}if(2&e){const a=t.oxw();t.xp6(2),t.AsE(" Issued Challan List from : ",t.xi3(3,6,a.fromDate,"mediumDate")," to ",t.xi3(4,9,a.toDate,"mediumDate"),""),t.xp6(12),t.Oqu(t.lcZ(15,12,"Export To PDF")),t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(38),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}const pe=function(e){return{display:e}},_e=function(){return[10,25,100]},he=[{path:"",component:(()=>{class e{constructor(a,l,o,i,r,Z,x){this.echallanService=a,this.alertService=l,this.datePipe=o,this.dialog=i,this.tableUtils=r,this.loginService=Z,this.router=x,this.displayedColumns=["id","vehicleNo","vtClass","vhClass","transactionDate","opDate","taxupto","fitupto","insupto","nonusestat","challanNo","challanIssueDate","action"],this.dataSource=new s.by,this.echallanList=[],this.echallan=new g.d,this.showView=!1,this.isChallanIssued=!0,this.echallans=[],this.challanNo=new d.NI("",{validators:[d.kI.required,d.kI.pattern("[A-Z0-9]{14,17}")]}),this.user=new v.K}ngOnInit(){this.user=this.loginService.getLoggedInUser(),this.reloadData()}reloadData(){this.echallanService.getEChallanList().subscribe(a=>{this.echallanList=a,this.dataSource=new s.by(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}toShowView(){this.showView=!this.showView}doFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showDate(a){this.showView=!0;let l=this.datePipe.transform(this.fromDate,"dd-MM-YYYY"),o=this.datePipe.transform(a,"dd-MM-YYYY");console.log(l,o),this.echallanService.getEChallanByFromToDate(l||"",o||"").subscribe(i=>{console.log(i),this.echallanList=i,this.dataSource=new s.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},i=>{this.alertService.error(i.message)})}checkIssuedChallan(a){let l=!0;return this.echallans.forEach(o=>{l=a!=o}),l}selectChallan(a,l){this.echallan=new g.d,this.echallan=a,this.echallans.push(this.echallan),this.dialog.open(l,{width:"350px"})}closeDialog(a){this.dialog.closeAll()}chooseChallanIssueDate(a){this.challanIssueDate=a}issueChallan(){this.echallan.challanIssueDate=this.challanIssueDate,this.echallan.challanNo=this.challanNo.value,this.echallan.updatedBy=this.user.id,this.echallan.updatedDate=new Date,this.echallanService.createEChallan(this.echallan).subscribe(a=>{this.alertService.success("Challan Saved Successfully..")},a=>{this.echallan.challanNo="",console.log(a),a.error.message.includes("constraint [uk_ke9wx6pfxveode41g4pchon56];")?this.alertService.error("ChallanNo Already Exist!!!"):this.alertService.error("Error occured during challan creation..")}),this.dialog.closeAll()}exportArrayToExcel(a,l){this.tableUtils.exportArrayToExcel(a,l)}exportToPDF(){this.tableUtils.exportIssuedChallanToPDf(this.dataSource.data,"challan")}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(A.t),t.Y36(E.c),t.Y36(p.uU),t.Y36(D.uw),t.Y36(N.P),t.Y36(I.r),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-echallan-list"]],viewQuery:function(a,l){if(1&a&&(t.Gf(f.NW,5),t.Gf(_.YE,5),t.Gf(L,5)),2&a){let o;t.iGM(o=t.CRH())&&(l.paginator=o.first),t.iGM(o=t.CRH())&&(l.sort=o.first),t.iGM(o=t.CRH())&&(l.table=o.first)}},decls:31,vars:24,consts:[[1,"card"],[1,"card-body"],[3,"heading","mainhead","mainheadLink","icon","mainIcon"],[1,"row"],[1,"col-md-3"],["appearance","outline"],["matInput","","required","",3,"matDatepicker","ngModel","ngModelChange"],["inputPicker","ngModel"],["matSuffix","",3,"for"],["frompicker",""],["topicker",""],[4,"ngIf"],["class","panel w-100",4,"ngIf"],[3,"ngStyle"],["aria-label","Select page of users",3,"pageSizeOptions"],["echallanDialog",""],[2,"color","red"],[1,"panel","w-100"],[1,"col-md-10"],["matInput","","placeholder","Like OD05V92830",3,"keyup"],["input",""],[1,"col-md-2"],["mat-raised-button","",1,"p-2","btn","btn-primary",3,"click"],["mat-table","","matTableExporter","","matSort","","matSortActive","id","matSortDirect","asc",1,"table","table-striped","table-bordered",3,"dataSource"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vehicleNo"],["matColumnDef","vtClass"],["matColumnDef","vhClass"],["matColumnDef","transactionDate"],["matColumnDef","challanNo"],["matColumnDef","opDate"],["matColumnDef","challanIssueDate"],["matColumnDef","taxupto"],["matColumnDef","fitupto"],["matColumnDef","insupto"],["matColumnDef","nonusestat"],["matColumnDef","action"],["mat-cell","","style","padding:0px;",4,"matCellDef"],["mat-header-row","","class","mat-head",4,"matHeaderRowDef"],["mat-row","","style","background-color: #ffffff;",4,"matRowDef","matRowDefColumns"],["mat-row","",4,"matNoDataRow"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"font-weight","500"],["src","./assets/images/redcross.svg","alter","Default","height","31px","color","blue"],["src","./assets/images/checkmark.svg","alter","Pass","height","28px","color","blue"],["src","./assets/images/checkmark.svg","alter","pass","height","28px","color","blue"],["mat-cell","",2,"padding","0px"],["mat-raised-button","","aria-label","Example icon button\n              with a menu icon","type","button","class","btn btn-primary","data-toggle","modal","data-target","#exampleModal",3,"click",4,"ngIf"],["mat-raised-button","","class","btn btn-danger","type","button",4,"ngIf"],["mat-raised-button","","aria-label","Example icon button\n              with a menu icon","type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary",3,"click"],["mat-raised-button","","type","button",1,"btn","btn-danger"],["mat-header-row","",1,"mat-head"],["mat-row","",2,"background-color","#ffffff"],["mat-row",""],["colspan","4",1,"mat-cell"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","row"],["matInput","","placeholder","","name","challanNo",3,"formControl","minlength","maxlength"],["style","color:red",4,"ngIf"],["appearance","outline","height","25px"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(a,l){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-page-header",2),t.TgZ(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"input",6,7),t.NdJ("ngModelChange",function(i){return l.fromDate=i}),t.qZA(),t._UZ(11,"mat-datepicker-toggle",8)(12,"mat-datepicker",null,9),t.qZA()(),t.TgZ(14,"div",4)(15,"mat-form-field",5)(16,"mat-label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",6,7),t.NdJ("ngModelChange",function(i){return l.showDate(i)})("ngModelChange",function(i){return l.toDate=i}),t.qZA(),t._UZ(21,"mat-datepicker-toggle",8)(22,"mat-datepicker",null,10),t.qZA()(),t._UZ(24,"div",4),t.qZA(),t.YNc(25,w,4,3,"div",11),t.YNc(26,xt,60,14,"div",12),t.TgZ(27,"div",13),t._UZ(28,"mat-paginator",14),t.qZA()()(),t.YNc(29,vt,22,8,"ng-template",null,15,t.W1O)),2&a){const o=t.MAs(13),i=t.MAs(23);t.xp6(2),t.Q6J("heading","Challan")("mainhead","All Challans")("mainheadLink","/dashboard/echallan")("icon"," fa-history")("mainIcon","fa-id-card-o"),t.xp6(5),t.Oqu(t.lcZ(8,17,"Choose From Date")),t.xp6(2),t.Q6J("matDatepicker",o)("ngModel",l.fromDate),t.xp6(2),t.Q6J("for",o),t.xp6(6),t.Oqu(t.lcZ(18,19,"Choose To Date")),t.xp6(2),t.Q6J("matDatepicker",i)("ngModel",l.toDate),t.xp6(2),t.Q6J("for",i),t.xp6(4),t.Q6J("ngIf",!l.showView),t.xp6(1),t.Q6J("ngIf",l.showView),t.xp6(1),t.Q6J("ngStyle",t.VKq(21,At,1==l.showView?"block":"none")),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(23,Et))}},directives:[U.q,h.KE,h.hX,y.Nt,m.hl,d.Fj,d.Q7,d.JJ,d.On,m.nW,h.R9,m.Mq,p.O5,Y.lW,s.BZ,q.jt,_.YE,s.w1,s.fO,s.ge,_.nU,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk,s.Ee,p.PC,f.NW,d.oH,d.wO,d.nD],pipes:[C.X$,p.uU],styles:["th[_ngcontent-%COMP%]{color:#000;font-size:20px}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:10px 0 0 10px;vertical-align:middle;text-align:center}"]}),e})()},{path:"echallan-add",component:b},{path:"issued-challan-list",component:(()=>{class e{constructor(a,l,o,i,r,Z,x){this.echallanService=a,this.alertService=l,this.datePipe=o,this.dialog=i,this.tableUtils=r,this.loginService=Z,this.router=x,this.displayedColumns=["id","vehicleNo","vtClass","vhClass","transactionDate","opDate","taxupto","fitupto","insupto","nonusestat","challanNo","challanIssueDate"],this.dataSource=new s.by,this.echallanList=[],this.echallan=new g.d,this.showView=!1,this.isChallanIssued=!0,this.echallans=[],this.user=new v.K}ngOnInit(){this.user=this.loginService.getLoggedInUser(),this.reloadData()}reloadData(){this.echallanService.getEChallanList().subscribe(a=>{this.echallanList=a,this.dataSource=new s.by(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}toShowView(){this.showView=!this.showView}doFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showDate(a){this.showView=!0;let l=this.datePipe.transform(this.fromDate,"dd-MM-YYYY"),o=this.datePipe.transform(a,"dd-MM-YYYY");console.log(l,o),this.echallanService.getIssuedEChallanByFromToDate(l||"",o||"").subscribe(i=>{console.log(i),this.echallanList=i,this.dataSource=new s.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},i=>{this.alertService.error(i.message)})}checkIssuedChallan(a){let l=!0;return this.echallans.forEach(o=>{l=a!=o}),l}chooseChallanIssueDate(a){this.challanIssueDate=a}exportArrayToExcel(a,l){this.tableUtils.exportArrayToExcel(a,l)}exportToPDf(){let a;a=document.getElementById("tableId").innerHTML,console.log(a),this.tableUtils.exportToPDF(a)}exportArrayToPDF(){this.tableUtils.exportIssuedChallanToPDf(this.dataSource.data,"challans")}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(A.t),t.Y36(E.c),t.Y36(p.uU),t.Y36(D.uw),t.Y36(N.P),t.Y36(I.r),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-issued-echallans"]],viewQuery:function(a,l){if(1&a&&(t.Gf(f.NW,5),t.Gf(_.YE,5),t.Gf(Nt,5)),2&a){let o;t.iGM(o=t.CRH())&&(l.paginator=o.first),t.iGM(o=t.CRH())&&(l.sort=o.first),t.iGM(o=t.CRH())&&(l.table=o.first)}},decls:29,vars:24,consts:[[1,"card"],[1,"card-body"],[3,"heading","mainhead","mainheadLink","icon","mainIcon"],[1,"row"],[1,"col-md-3"],["appearance","outline"],["matInput","","required","",3,"matDatepicker","ngModel","ngModelChange"],["inputPicker","ngModel"],["matSuffix","",3,"for"],["frompicker",""],["topicker",""],[4,"ngIf"],["class","panel w-100",4,"ngIf"],[3,"ngStyle"],["aria-label","Select page of users",3,"pageSizeOptions"],[2,"color","red"],[1,"panel","w-100"],[1,"col-md-10"],["matInput","","placeholder","Like OD05V92830",3,"keyup"],["input",""],[1,"col-md-2"],["mat-raised-button","",1,"p-2","btn","btn-primary","ml-2",3,"click"],["id","tableId","mat-table","","matTableExporter","","matSort","","matSortActive","id","matSortDirect","asc",1,"table","table-striped","table-bordered",3,"dataSource"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vehicleNo"],["matColumnDef","vtClass"],["matColumnDef","vhClass"],["matColumnDef","transactionDate"],["matColumnDef","challanIssueDate"],["matColumnDef","challanNo"],["matColumnDef","opDate"],["matColumnDef","taxupto"],["matColumnDef","fitupto"],["matColumnDef","insupto"],["matColumnDef","nonusestat"],["mat-header-row","","class","mat-head",4,"matHeaderRowDef"],["mat-row","","style","background-color: #ffffff;",4,"matRowDef","matRowDefColumns"],["mat-row","",4,"matNoDataRow"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"font-weight","500"],["src","./assets/images/redcross.svg","alter","Default","height","31px","color","blue"],["src","./assets/images/checkmark.svg","alter","Pass","height","28px","color","blue"],["src","./assets/images/checkmark.svg","alter","pass","height","28px","color","blue"],["mat-header-row","",1,"mat-head"],["mat-row","",2,"background-color","#ffffff"],["mat-row",""],["colspan","4",1,"mat-cell"]],template:function(a,l){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-page-header",2),t.TgZ(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"input",6,7),t.NdJ("ngModelChange",function(i){return l.fromDate=i}),t.qZA(),t._UZ(11,"mat-datepicker-toggle",8)(12,"mat-datepicker",null,9),t.qZA()(),t.TgZ(14,"div",4)(15,"mat-form-field",5)(16,"mat-label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",6,7),t.NdJ("ngModelChange",function(i){return l.showDate(i)})("ngModelChange",function(i){return l.toDate=i}),t.qZA(),t._UZ(21,"mat-datepicker-toggle",8)(22,"mat-datepicker",null,10),t.qZA()(),t._UZ(24,"div",4),t.qZA(),t.YNc(25,It,4,3,"div",11),t.YNc(26,de,57,14,"div",12),t.TgZ(27,"div",13),t._UZ(28,"mat-paginator",14),t.qZA()()()),2&a){const o=t.MAs(13),i=t.MAs(23);t.xp6(2),t.Q6J("heading","Issued Challans")("mainhead","All Challans")("mainheadLink","/dashboard/echallan")("icon"," fa-history")("mainIcon","fa-id-card-o"),t.xp6(5),t.Oqu(t.lcZ(8,17,"Choose From Date")),t.xp6(2),t.Q6J("matDatepicker",o)("ngModel",l.fromDate),t.xp6(2),t.Q6J("for",o),t.xp6(6),t.Oqu(t.lcZ(18,19,"Choose To Date")),t.xp6(2),t.Q6J("matDatepicker",i)("ngModel",l.toDate),t.xp6(2),t.Q6J("for",i),t.xp6(4),t.Q6J("ngIf",!l.showView),t.xp6(1),t.Q6J("ngIf",l.showView),t.xp6(1),t.Q6J("ngStyle",t.VKq(21,pe,1==l.showView?"block":"none")),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(23,_e))}},directives:[U.q,h.KE,h.hX,y.Nt,m.hl,d.Fj,d.Q7,d.JJ,d.On,m.nW,h.R9,m.Mq,p.O5,Y.lW,s.BZ,q.jt,_.YE,s.w1,s.fO,s.ge,_.nU,s.Dz,s.ev,s.as,s.XQ,s.nj,s.Gk,s.Ee,p.PC,f.NW],pipes:[C.X$,p.uU],styles:[""]}),e})()}];let me=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(he)],u.Bz]}),e})();var re=c(6115),ue=c(3361);let fe=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[p.uU],imports:[[p.ez,me,re.q,C.aw,d.u5,ue.$,d.UX]]}),e})()}}]);